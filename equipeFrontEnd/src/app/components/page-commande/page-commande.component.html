 <div class="container mb-5">
<h1 class="mb-3">Commande (table nÂ° {{numeroTable}})</h1>
<ng-container *ngIf="produits$ | async  as produits else loading" >
   
        <div class="row">
          <div class="col">
            <table class="table">
              <tbody>
                <ng-container *ngFor="let categorie of produitsParCategorie | keyvalue">
                  <tr>
                    <td colspan="3" class="font-weight-bold py-2 bg-secondary text-light">
                      <div class="rounded bg-secondary p-2">
                        {{ categorie.key }}
                      </div>
                    </td>
                  </tr>
                  <tr *ngFor="let produit of categorie.value" class="shadowed-td p-2 m-2">
                    <td (click)="addProduct(produit)" class="p-3">
                      {{ produit.nom }}
                     
                    </td>
                    <td> <span><i class="fa-solid fa-circle-chevron-left chevron"></i>{{ produitsClics.get(produit.id) || 0 }}<i class="fa-solid fa-circle-chevron-right chevron"></i></span></td>
                  </tr>
                </ng-container>
              </tbody>
            </table>
          </div>
        </div>
     
      <div class="d-flex justify-content-center">
        <button class="mt-3 btn btn-primary submit-btn text-light w-50" type="submit" (click)="closeCommande()">
           Termnier la commande
        </button>
      </div>
</ng-container>
</div>
<ng-template #loading>
    <core-alert text="" [beforeTextTemplate]="spinner"></core-alert>
</ng-template>
<ng-template #spinner>
    <div class="d-flex align-items-center">
        <div class="spinner-border text-primary m-3" role="status">
            <span class="visually-hidden">Loading...</span>
        </div>
        Chargement en cours..
    </div>
</ng-template>