 <div class="container mb-5">
<h1>Commande (table nÂ° )</h1>
<ng-container *ngIf="produits$ | async  as produits else loading" >
   
        <div class="row">
          <div class="col">
            <table class="table">
              <tbody>
                <ng-container *ngFor="let categorie of produitsParCategorie | keyvalue">
                  <tr>
                    <td colspan="3" class="font-weight-bold py-2 bg-secondary text-light">
                      <div class="rounded bg-secondary p-2">
                        {{ categorie.key }}
                      </div>
                    </td>
                  </tr>
                  <tr *ngFor="let produit of categorie.value">
                    <td></td>
                
                    <td>{{ produit.nom }}</td>
                  
                      <td>
                        <i  (click)="incrementQuantity(produit)" class="fa-solid fa-circle-plus text-primary p-3"></i>
                        <span>{{produit.quantite}}</span>
                        <i class="fa-solid fa-circle-minus text-primary p-3"  (click)="decrementQuantity(produit)"></i>
                 
                      </td>

                  </tr>
                </ng-container>
              </tbody>
            </table>
          </div>
        </div>
     
      <div class="d-flex justify-content-center">
        <button class="mb-3 btn btn-primary submit-btn text-light w-50" type="submit">
           Termnier la commande
        </button>
      </div>
</ng-container>
</div>
<ng-template #loading>
    <core-alert text="" [beforeTextTemplate]="spinner"></core-alert>
</ng-template>
<ng-template #spinner>
    <div class="d-flex align-items-center">
        <div class="spinner-border text-primary m-3" role="status">
            <span class="visually-hidden">Loading...</span>
        </div>
        Chargement en cours..
    </div>
</ng-template>